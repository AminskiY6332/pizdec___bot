# –ü—Ä–æ—Å—Ç–∞—è Gunicorn –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ production)
import multiprocessing
import os

# === –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===
bind = "0.0.0.0:8000"  # –ü–æ—Ä—Ç –¥–ª—è YooKassa webhook
workers = 2  # –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
worker_class = "sync"
timeout = 60

# === –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ===
# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤
os.makedirs("/var/log/axidi", exist_ok=True)

loglevel = "info"
accesslog = "/var/log/axidi/access.log"
errorlog = "/var/log/axidi/error.log"

# === –ü–†–û–¶–ï–°–° ===
daemon = False
reload = False
preload_app = True

print("üöÄ –ü—Ä–æ—Å—Ç–∞—è Gunicorn –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞")
print(f"üë• Workers: {workers}")
print(f"üåê Bind: {bind}")
print(f"üîß –ü–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ 8000 –¥–ª—è YooKassa webhook")
